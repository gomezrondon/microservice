group 'group1'
version '1.0-SNAPSHOT'


task buildAll(type:Exec) {
    commandLine 'cmd', '/c', 'gradlew :config-server:build :db-service:build :eureka-register:build :eureka-service:build :micro-proxy:build -x test'
}

task copyAllDockerFiles(type:Exec) {
    dependsOn buildAll
    commandLine 'cmd', '/c', 'gradlew :config-server:copyDockerFile :db-service:copyDockerFile :eureka-register:copyDockerFile :eureka-service:copyDockerFile :micro-proxy:copyDockerFile'
}

task cleanAll(type:Exec) {
    commandLine 'cmd', '/c', 'gradlew :config-server:clean :db-service:clean :eureka-register:clean :eureka-service:clean :micro-proxy:clean'
}

// example of how to run in localhost by setting profile=sandbox
//gradlew -Pprofile_val=sandbox :db-service:bootRun


